<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Shadowspire Campaign - DM Guide</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:wght@400;600&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="campaign-header">
        <h1>The Shadowspire Campaign</h1>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="progress-text" id="progressText">Encounter 0 of 60</div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar - Player Tracking -->
        <aside class="player-sidebar" id="playerSidebar">
            <div class="sidebar-header">
                <h2>Player Tracking</h2>
                <button class="toggle-sidebar" id="toggleSidebar">‚óÄ</button>
            </div>

            <!-- Nick's Tracker -->
            <div class="player-card">
                <div class="player-header crimson-path">
                    <h3>‚öîÔ∏è Nick</h3>
                    <span class="player-role">The Warrior</span>
                    <span class="player-path">Crimson Path</span>
                </div>
                <div class="player-stats">
                    <div class="stat-row">
                        <label>Skill Points:</label>
                        <div class="stat-controls">
                            <button class="stat-btn" onclick="adjustStat('nick', 'skillPoints', -1)">-</button>
                            <span class="stat-value" id="nick-skillPoints">12</span>
                            <button class="stat-btn" onclick="adjustStat('nick', 'skillPoints', 1)">+</button>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>Coins:</label>
                        <div class="stat-controls">
                            <button class="stat-btn" onclick="adjustStat('nick', 'coins', -1)">-</button>
                            <span class="stat-value coin-value" id="nick-coins">12</span>
                            <button class="stat-btn" onclick="adjustStat('nick', 'coins', 1)">+</button>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>Key Status:</label>
                        <span class="key-status" id="nick-key">Not Forged</span>
                    </div>
                </div>
                <div class="player-inventory">
                    <h4>Inventory</h4>
                    <ul class="inventory-list" id="nick-inventory"></ul>
                    <button class="add-item-btn" onclick="addItem('nick')">+ Add Item</button>
                </div>
            </div>

            <!-- Christopher's Tracker -->
            <div class="player-card">
                <div class="player-header golden-path">
                    <h3>üí∞ Christopher</h3>
                    <span class="player-role">The Treasure Hunter</span>
                    <span class="player-path">Golden Path</span>
                </div>
                <div class="player-stats">
                    <div class="stat-row">
                        <label>Skill Points:</label>
                        <div class="stat-controls">
                            <button class="stat-btn" onclick="adjustStat('christopher', 'skillPoints', -1)">-</button>
                            <span class="stat-value" id="christopher-skillPoints">12</span>
                            <button class="stat-btn" onclick="adjustStat('christopher', 'skillPoints', 1)">+</button>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>Coins:</label>
                        <div class="stat-controls">
                            <button class="stat-btn" onclick="adjustStat('christopher', 'coins', -1)">-</button>
                            <span class="stat-value coin-value" id="christopher-coins">12</span>
                            <button class="stat-btn" onclick="adjustStat('christopher', 'coins', 1)">+</button>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>Key Status:</label>
                        <span class="key-status" id="christopher-key">Not Forged</span>
                    </div>
                </div>
                <div class="player-inventory">
                    <h4>Inventory</h4>
                    <ul class="inventory-list" id="christopher-inventory"></ul>
                    <button class="add-item-btn" onclick="addItem('christopher')">+ Add Item</button>
                </div>
            </div>

            <!-- Lena's Tracker -->
            <div class="player-card">
                <div class="player-header silver-path">
                    <h3>üíé Lena</h3>
                    <span class="player-role">The Diplomat</span>
                    <span class="player-path">Silver Path</span>
                </div>
                <div class="player-stats">
                    <div class="stat-row">
                        <label>Skill Points:</label>
                        <div class="stat-controls">
                            <button class="stat-btn" onclick="adjustStat('lena', 'skillPoints', -1)">-</button>
                            <span class="stat-value" id="lena-skillPoints">12</span>
                            <button class="stat-btn" onclick="adjustStat('lena', 'skillPoints', 1)">+</button>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>Coins:</label>
                        <div class="stat-controls">
                            <button class="stat-btn" onclick="adjustStat('lena', 'coins', -1)">-</button>
                            <span class="stat-value coin-value" id="lena-coins">12</span>
                            <button class="stat-btn" onclick="adjustStat('lena', 'coins', 1)">+</button>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>Key Status:</label>
                        <span class="key-status" id="lena-key">Not Forged</span>
                    </div>
                </div>
                <div class="player-inventory">
                    <h4>Inventory</h4>
                    <ul class="inventory-list" id="lena-inventory"></ul>
                    <button class="add-item-btn" onclick="addItem('lena')">+ Add Item</button>
                </div>
            </div>

            <!-- Reset Button -->
            <div class="sidebar-footer">
                <button class="reset-btn" onclick="resetCampaign()">Reset Campaign</button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content-area">
            <!-- Jump to Section Dropdown -->
            <div class="jump-section">
                <label for="sectionJump">Jump to:</label>
                <select id="sectionJump" onchange="jumpToSection()">
                    <option value="0">Campaign Start</option>
                    <optgroup label="Opening">
                        <option value="1">The Howling Moon Tavern</option>
                        <option value="2">The Taking</option>
                        <option value="3">Path Selection</option>
                    </optgroup>
                    <optgroup label="Cameo Encounters">
                        <option value="4">Cameos #12 (All Paths)</option>
                        <option value="7">Cameos #11 (All Paths)</option>
                        <option value="10">Cameos #10 (All Paths)</option>
                        <option value="13">Cameos #9 (All Paths)</option>
                        <option value="16">Cameos #8 (All Paths)</option>
                        <option value="19">Cameos #7 (All Paths)</option>
                        <option value="22">Midway Reunion</option>
                        <option value="23">Cameos #6 (All Paths)</option>
                        <option value="26">Cameos #5 (All Paths)</option>
                        <option value="29">Cameos #4 (All Paths)</option>
                        <option value="32">Cameos #3 (All Paths)</option>
                        <option value="35">Cameos #2 (All Paths)</option>
                        <option value="38">Cameos #1 (All Paths)</option>
                    </optgroup>
                    <optgroup label="Final Act">
                        <option value="41">Final Reunion & Key Forging</option>
                        <option value="42">Boss Fight - Void Tyrant</option>
                        <option value="43">Victory & Ending</option>
                    </optgroup>
                </select>
            </div>

            <!-- Encounter Display -->
            <div class="encounter-container" id="encounterContainer">
                <div class="encounter-header">
                    <div class="encounter-type" id="encounterType">Welcome</div>
                    <h2 class="encounter-title" id="encounterTitle">Loading Campaign...</h2>
                    <div class="encounter-meta" id="encounterMeta"></div>
                </div>

                <div class="encounter-content" id="encounterContent">
                    <p>Loading campaign data...</p>
                </div>
            </div>

            <!-- Navigation Footer -->
            <div class="navigation-footer">
                <button class="nav-btn" id="prevBtn" onclick="previousEncounter()">
                    ‚Üê Previous
                </button>
                <div class="nav-center">
                    <label class="complete-checkbox">
                        <input type="checkbox" id="completeCheckbox" onchange="markComplete()">
                        <span>Mark Complete</span>
                    </label>
                </div>
                <button class="nav-btn" id="nextBtn" onclick="nextEncounter()">
                    Next ‚Üí
                </button>
            </div>
        </main>
    </div>

    <!-- Scripts - Load encounters data first, then app modules -->
    <script src="data/encounters.js"></script>
    <script src="js/tracker.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
